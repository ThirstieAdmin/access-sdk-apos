{#
  This is an example home page template. It inherits and extends a layout template
  that lives in the top-level views/ folder for convenience
#}

{% extends "layout.html" %}
{% import 'header-fragment.html' as headerFragment %}

{% block main %}
  <section class="th-welcome">
    <h1 class="th-welcome__headline">
      Welcome to Apostrophe 3!
    </h1>
    {% if not data.user %}
      {# Message only for logged out users. #}
      <h3 class="th-welcome__help">First time spinning up the ApostropheCMS 3 demo?</h3>
      <p>
        Use the credentials created during setup with the CLI tool or create a new user with the CLI command:
      </p>
      <pre class="th-welcome__code">
        <span class="th-welcome__code__context">Command Line</span>
        <code>
          node app @apostrophecms/user:add myUsername admin
        </code>
      </pre>
      <p class="th-welcome__cta">
        <a class="th-button th-button--cta" href="/login">Then log in here</a>
      </p>
    {% endif %}
    <p>
      For a guide on how to configure and customize this project, <a href="https://a3.docs.apostrophecms.com/">please check out the Apostrophe 3 documentation</a>.
    </p>
    <div class="th-welcome__area">
      {% render headerFragment.heading() %}
    </div>
    <div class="th-welcome__area">
      {% if data.user %}
        {# Message only for logged in users. #}
        {% if not data.query['apos-edit'] %}
          <p>
            Enter <span class="th-mode">Edit</span> mode from the admin bar <span style="display:inline-block; transform: rotate(45deg)">ðŸ‘†</span> to begin.
          </p>
        {% else %}
          <p>
            Add and edit content below in the content area. ðŸ‘‡
          </p>
        {% endif %}
      {% endif %}
      <div style="border:1px solid orange">
        {% area data.page, 'main' %}
      </div>
    </div>
  </section>
{% endblock %}
